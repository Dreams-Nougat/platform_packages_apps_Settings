Revision: 8e8ac6b134d135d16db36ba59a1ca7724d012049
Patch-set: 1
File: src/com/android/settings/AccessibilitySettings.java

185
Tue Jun 19 21:13:18 2012 +0000
Author: Svetoslav Ganov <1010257@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: AAAGw3///6Q=
Bytes: 43
Good catch - check again in the function :)

488
Tue Jun 19 21:13:18 2012 +0000
Author: Svetoslav Ganov <1010257@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: AAAGw3///50=
Bytes: 153
Can you please move this check right before showing the dialog. Now we will be checking this even if we already shown the dialog and the user clicked OK?

488
Wed Jun 20 01:46:17 2012 +0000
Author: Roger Chen <1005243@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: AAAGw3///50=
UUID: AAAGy3///+w=
Bytes: 326
I think it's a good way that we don't show the dialog if no market installed, of cause I considered it when I fixed this issue.

Otherwise, user maybe confused with why anything happened after clicked OK and we also can show the tip dialog in time if user installed a 3rd party market manually later.

What do you think about?

488
Wed Jun 20 02:15:14 2012 +0000
Author: Svetoslav Ganov <1010257@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: AAAGy3///+w=
UUID: AAAGw3///y0=
Bytes: 822
I completely agree that we should not show the dialog if there is not app to handle the intent.

It seems that I was not clear enough - sorry. Below we are checking in the shared preferences if the dialog has been shown at least one. If so, we do not bother showing it. However, your patch will check whether the intent can be handled by an activity every time even if Market was installed and we have already shown the dialog.

My proposal was to move your check after we are sure that the dialog has never been shown i.e. right after "if (offerInstallService) {". If the check fails then just return and neither update the shared preferences nor not call show dialog. This way we are not showing the dialog and the next time we would do the check for activity since there may be a new installed app to handle the intent.

495
Tue Jun 19 19:24:13 2012 +0000
Author: Jean-Baptiste Queru <1000660@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: AAAGwn///9g=
Bytes: 26
Please wrap to 100 columns

